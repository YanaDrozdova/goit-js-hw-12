{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchFotosByQuery = searchQuery => {\n  // const searchParams = new URLSearchParams({\n  //   key: '43952062-1ac9439355a7535a7f5f048fb',\n  //   q: searchQuery,\n  //   image_type: 'photo',\n  //   orientation: 'horizontal',\n  //   safesearch: true, //фільтр за віком\n  // });\n\n  return axios\n    .get(`${BASE_URL}`, {\n      params: {\n        key: '43952062-1ac9439355a7535a7f5f048fb',\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data)\n    .catch(error => console.log(error));\n\n  // return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n  //   if (!response.ok) {\n  //     throw new Error(response.statusText);\n  //   }\n  //   return response.json();\n  // });\n};\n","export const createGalleryMarkup = photos => {\n  return photos\n    .map(\n      photo => `<li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n    <img\n      class=\"gallery-photo\"\n      src=\"${photo.webformatURL}\"\n      data-source=\"${photo.largeImageURL}\"\n      alt=\"${photo.tags}\"\n    />\n  </a>\n  <div class=\"under-img-info\">\n    <ul class=\"list-info\">\n      <li class=\"item-info\">\n        <h3 class=\"title-info\">Likes</h3>\n        <p class=\"text-info\">${photo.likes}</p>\n      </li>\n      <li class=\"item-info\">\n        <h3 class=\"title-info\">Views</h3>\n        <p class=\"text-info\">${photo.views}</p>\n      </li>\n      <li class=\"item-info\">\n        <h3 class=\"title-info\">Comments</h3>\n        <p class=\"text-info\">${photo.comments}</p>\n      </li>\n      <li class=\"item-info\">\n        <h3 class=\"title-info\">Downloads</h3>\n        <p class=\"text-info\">${photo.downloads}</p>\n      </li>\n    </ul>\n  </div>\n</li>`\n    )\n    .join('');\n};\n","import { fetchFotosByQuery } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery-list');\nconst searchFormEl = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\nlet lightbox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nasync function onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.query.value.trim();\n\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  try {\n    const photosData = await fetchFotosByQuery(searchQuery);\n\n    if (photosData.total === 0) {\n      event.target.reset();\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 4000,\n        pauseOnHover: true,\n        color: 'red',\n      });\n      loaderEl.classList.add('is-hidden');\n      return;\n    }\n\n    galleryEl.innerHTML = createGalleryMarkup(photosData.hits);\n    lightbox.refresh();\n  } catch (error) {\n    console.log(error);\n  }\n\n  event.target.reset();\n  loaderEl.classList.add('is-hidden');\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["BASE_URL","fetchFotosByQuery","searchQuery","axios","response","error","createGalleryMarkup","photos","photo","galleryEl","searchFormEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","photosData","iziToast"],"mappings":"owBAEA,MAAMA,EAAW,2BAEJC,EAAoBC,GASxBC,EACJ,IAAI,GAAGH,CAAQ,GAAI,CAClB,OAAQ,CACN,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,ECxBzBC,EAAsBC,GAC1BA,EACJ,IACCC,GAAS;AAAA,kCACmBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAOQA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MAKzC,EACA,KAAK,EAAE,ECzBNC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAe,SAAS,cAAc,OAAO,EAC7CC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAAW,IAAIC,EAAe,kBAAmB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,eAAeC,EAAmBC,EAAO,CACvCA,EAAM,eAAc,EAEpB,MAAMb,EAAca,EAAM,OAAO,SAAS,MAAM,MAAM,OAEtD,GAAIb,IAAgB,GAAI,CACtBO,EAAU,UAAY,GACtBM,EAAM,OAAO,QACb,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErC,GAAI,CACF,MAAMK,EAAa,MAAMf,EAAkBC,CAAW,EAEtD,GAAIc,EAAW,QAAU,EAAG,CAC1BD,EAAM,OAAO,QACbE,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,aAAc,GACd,MAAO,KACf,CAAO,EACDN,EAAS,UAAU,IAAI,WAAW,EAClC,MACD,CAEDF,EAAU,UAAYH,EAAoBU,EAAW,IAAI,EACzDJ,EAAS,QAAO,CACjB,OAAQP,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAEDU,EAAM,OAAO,QACbJ,EAAS,UAAU,IAAI,WAAW,CACpC,CAEAD,EAAa,iBAAiB,SAAUI,CAAkB"}